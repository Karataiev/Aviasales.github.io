{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{currencyChangeAction,filterActions,getExchangeRates,getOnlyFilter}from'../Redux/actions';import FilterItem from'./FilterItem';import CurrencyButton from'./CurrencyButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Currency(){const filters=useSelector(state=>state.root.filters);const currency=useSelector(state=>state.root.currency);const dispatch=useDispatch();useEffect(()=>{fetch(\"https://www.cbr-xml-daily.ru/latest.js\").then(res=>res.json()).then(result=>{dispatch(getExchangeRates({...result.rates,RUB:1}));});},[]);const onClickCurrencyBtn=name=>{dispatch(currencyChangeAction(name));};const currencyButtons=[{className:\"btn_1\",onClick:onClickCurrencyBtn,label:'RUB',name:'RUB',id:1},{className:\"btn_2\",onClick:onClickCurrencyBtn,label:'USD',name:'USD',id:2},{className:\"btn_3\",onClick:onClickCurrencyBtn,label:'EUR',name:'EUR',id:3}];return/*#__PURE__*/_jsxs(\"div\",{className:\"currencyStyle\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u0412\\u0410\\u041B\\u042E\\u0422\\u0410\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btnCur\",children:currencyButtons.map(button=>/*#__PURE__*/_jsx(CurrencyButton,{...button,selectedCurrency:currency},button.id))}),/*#__PURE__*/_jsxs(\"ul\",{className:\"transfer\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u041A\\u041E\\u041B\\u0418\\u0427\\u0415\\u0421\\u0422\\u0412\\u041E \\u041F\\u0415\\u0420\\u0415\\u0421\\u0410\\u0414\\u041E\\u041A\"}),/*#__PURE__*/_jsx(FilterItem,{label:\"\\u0412\\u0441\\u0435\",checked:filters.every(filter=>filter.checked)}),filters.map(filter=>/*#__PURE__*/_jsx(FilterItem,{...filter,onClick:id=>dispatch(filterActions(id)),children:/*#__PURE__*/_jsx(\"button\",{className:\"text_2\",onClick:()=>{dispatch(getOnlyFilter(filter.id));},children:\"\\u0422\\u041E\\u041B\\u042C\\u041A\\u041E\"})},filter.id))]})]});}export default Currency;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","currencyChangeAction","filterActions","getExchangeRates","getOnlyFilter","FilterItem","CurrencyButton","jsx","_jsx","jsxs","_jsxs","Currency","filters","state","root","currency","dispatch","fetch","then","res","json","result","rates","RUB","onClickCurrencyBtn","name","currencyButtons","className","onClick","label","id","children","map","button","selectedCurrency","checked","every","filter"],"sources":["D:/Programing/Aviasales.github.io/src/Components/Сurrency.js"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { currencyChangeAction, filterActions, getExchangeRates, getOnlyFilter } from '../Redux/actions';\r\nimport FilterItem from './FilterItem';\r\nimport CurrencyButton from './CurrencyButton';\r\n\r\nfunction Currency() {\r\n\r\n    const filters = useSelector(state => state.root.filters);\r\n    const currency = useSelector(state => state.root.currency);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://www.cbr-xml-daily.ru/latest.js\")\r\n        .then((res) => res.json())\r\n        .then(\r\n            (result) => {\r\n                dispatch(getExchangeRates({...result.rates, RUB:1}));\r\n            }\r\n        )\r\n    }, []);\r\n\r\n    const onClickCurrencyBtn = (name) => {\r\n        dispatch(currencyChangeAction(name))\r\n    };\r\n\r\n    const currencyButtons = [\r\n        {className: `btn_1`, onClick: onClickCurrencyBtn, label: 'RUB', name: 'RUB', id: 1},\r\n        {className: `btn_2`, onClick: onClickCurrencyBtn, label: 'USD', name: 'USD', id: 2},\r\n        {className: `btn_3`, onClick: onClickCurrencyBtn, label: 'EUR', name: 'EUR', id: 3}\r\n    ]\r\n\r\n    return (\r\n        <div className=\"currencyStyle\">\r\n            <span>ВАЛЮТА</span>\r\n            <div className=\"btnCur\">\r\n                {currencyButtons.map((button) => (\r\n                <CurrencyButton key={button.id} {...button} selectedCurrency={currency}/>\r\n                ))}\r\n            </div>\r\n            <ul className=\"transfer\">\r\n                <span >КОЛИЧЕСТВО ПЕРЕСАДОК</span>\r\n                <FilterItem label='Все' checked={filters.every(filter => filter.checked)}/>\r\n                {filters.map((filter) => (\r\n                    <FilterItem key={filter.id} {...filter} onClick={(id) => dispatch(filterActions(id))}>\r\n                        <button className=\"text_2\" onClick={() =>{dispatch(getOnlyFilter(filter.id))}}>ТОЛЬКО</button>\r\n                    </FilterItem>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Currency;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}