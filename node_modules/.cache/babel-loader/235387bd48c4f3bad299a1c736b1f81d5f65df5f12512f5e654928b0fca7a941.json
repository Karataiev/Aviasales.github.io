{"ast":null,"code":"import React,{useState}from'react';import InputField from'./InputField';import useValidator from'./validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const fieldEmpty='Поле должно быть заполненым';const defaultInputs={email:{error:fieldEmpty,placeholder:'Enter your email',name:'email',value:'',dirty:false},phone:{error:fieldEmpty,placeholder:'Enter your phone',name:'phone',value:'',dirty:false},firstname:{error:fieldEmpty,placeholder:'Enter your firstname',name:'firstname',value:'',dirty:false},secondname:{error:fieldEmpty,placeholder:'Enter your secondname',name:'secondname',value:'',dirty:false},passportnumber:{error:fieldEmpty,placeholder:'Enter your passportnumber',name:'passportnumber',value:'',dirty:false}};function ModalWindow(_ref){let{setActive,setActiveSuccess}=_ref;const{validateHandler}=useValidator();const[formState,setFormState]=useState(defaultInputs);const isBntDisabled=Object.keys(formState).every(fieldName=>formState[fieldName].dirty&&!formState[fieldName].error);const onChange=event=>{const{value,name}=event.target;const currentField=formState[event.target.name];if(!currentField)return;const error=validateHandler(name,value);setFormState({...formState,...{[name]:{...currentField,value,error}}});};const onBlur=event=>{const{name}=event.target;const currentField=formState[event.target.name];setFormState({...formState,...{[name]:{...currentField,dirty:true}}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal active\",onClick:()=>setActive(false),children:/*#__PURE__*/_jsx(\"div\",{className:\"modal__content active\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(\"div\",{className:\"formModal\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"formValid\",onSubmit:e=>{e.preventDefault();setActive(false);},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"order\",children:\"Order window\"}),Object.keys(formState).map(fieldName=>/*#__PURE__*/_jsx(InputField,{...formState[fieldName],onChange:onChange,onBlur:onBlur},fieldName)),/*#__PURE__*/_jsx(\"button\",{disabled:!isBntDisabled,type:\"submit\",className:\"btnOrder\",onClick:()=>setActiveSuccess(true),children:\"Order\"})]})})})})});}export default ModalWindow;","map":{"version":3,"names":["React","useState","InputField","useValidator","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","fieldEmpty","defaultInputs","email","error","placeholder","name","value","dirty","phone","firstname","secondname","passportnumber","ModalWindow","_ref","setActive","setActiveSuccess","validateHandler","formState","setFormState","isBntDisabled","Object","keys","every","fieldName","onChange","event","target","currentField","onBlur","children","className","onClick","e","stopPropagation","onSubmit","preventDefault","map","disabled","type"],"sources":["D:/Programing/Aviasales.github.io/src/Components/ModalWindow.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport InputField from './InputField';\r\nimport useValidator from './validator';\r\n\r\nconst fieldEmpty  = 'Поле должно быть заполненым';\r\n\r\nconst defaultInputs = {\r\n    email: {error: fieldEmpty, placeholder: 'Enter your email', name: 'email', value: '', dirty: false},\r\n    phone: {error: fieldEmpty, placeholder: 'Enter your phone', name: 'phone', value: '', dirty: false},\r\n    firstname: {error: fieldEmpty, placeholder: 'Enter your firstname', name: 'firstname', value: '', dirty: false},\r\n    secondname: { error: fieldEmpty, placeholder: 'Enter your secondname', name: 'secondname', value: '', dirty: false},\r\n    passportnumber: {error: fieldEmpty, placeholder: 'Enter your passportnumber', name: 'passportnumber', value: '', dirty: false},\r\n}\r\n\r\nfunction ModalWindow ({setActive, setActiveSuccess}) {\r\n    \r\n    const {validateHandler} = useValidator();\r\n    const [formState, setFormState] = useState(defaultInputs);\r\n    const isBntDisabled = Object.keys(formState).every(fieldName => formState[fieldName].dirty && !formState[fieldName].error)\r\n\r\n    const onChange = (event) => {\r\n        const {value, name} = event.target;\r\n        const currentField = formState[event.target.name];\r\n        if (!currentField) return;\r\n        const error = validateHandler(name, value)\r\n        setFormState({...formState, ...{[name]: {...currentField, value, error}}})\r\n    }\r\n\r\n    const onBlur = (event) => {\r\n        const {name} = event.target;\r\n        const currentField = formState[event.target.name];\r\n        setFormState({...formState, ...{[name]: {...currentField, dirty: true}}})\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className='modal active' onClick={() => setActive(false)}>\r\n            <div className='modal__content active' onClick={e => e.stopPropagation()}>\r\n                <div className='formModal'>\r\n                <form className='formValid' onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    setActive(false);\r\n                }}\r\n                >\r\n                    <h1 className='order'>Order window</h1>\r\n                    {Object.keys(formState).map((fieldName) => <InputField key={fieldName} {...formState[fieldName]} onChange={onChange} onBlur={onBlur}/>)}\r\n                    <button disabled={!isBntDisabled}  type='submit' className='btnOrder' onClick={() => setActiveSuccess(true)}>Order</button>\r\n                </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ModalWindow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}